---
title: "document.getElementsByClassName 함수의 반환값은 XX 이다."
date: "2019-04-04"
draft: false
path: "/til/2019-04-04"
category: "til"
tags: ["javascript"]
project: "unsorted"
---

<br />

## 반환값은 <span style="color: red;">유사배열</span> 이다.

반환값을 `forEach` 와 같은 Array method 를 사용하고 싶다면 `Array.from` method 를 통해 배열로 만들어야 한다.

<div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#aaa; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:160%"><div style="line-height:160%">1</div><div style="line-height:160%">2</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:160%"><div style="padding:0 6px; white-space:pre; line-height:160%">const&nbsp;nodes&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementsByClassName</span>(<span style="color:#ffd500">'myclass'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#4be6fa">Array</span>.from(nodes).forEach(node&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span><span style="color:#0086b3"></span><span style="color:#ff3399">&gt;</span>&nbsp;<span style="color:#4be6fa">console</span>.log(node));</div></div></td></tr></table></div>

<br />
<br />
<br />

## 반환값은 <span style="color: red;">Reference Type</span> 이다.

반환값을 변수에 바인딩 한 후 해당 class 의 모든 노드를 지우고 다시 출력해보면 빈배열로 바뀌어 있게 된다.

<div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#aaa; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:160%"><div style="line-height:160%">1</div><div style="line-height:160%">2</div><div style="line-height:160%">3</div><div style="line-height:160%">4</div><div style="line-height:160%">5</div><div style="line-height:160%">6</div><div style="line-height:160%">7</div><div style="line-height:160%">8</div><div style="line-height:160%">9</div><div style="line-height:160%">10</div><div style="line-height:160%">11</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:160%"><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#999999">//&nbsp;todoBox&nbsp;안에&nbsp;todo-item&nbsp;class&nbsp;들이&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:160%">const&nbsp;todoBox&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementById</span>(<span style="color:#ffd500">'todo_box'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:160%">const&nbsp;todos&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementsByClassName</span>(<span style="color:#ffd500">'todo-item'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#4be6fa">console</span>.log(todos)&nbsp;<span style="color:#999999">//&nbsp;length&nbsp;=&nbsp;5</span></div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#ff3399">while</span>(todoBox.firstChild)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;&nbsp;todoBox.removeChild(todoBox.firstChild);</div><div style="padding:0 6px; white-space:pre; line-height:160%">}</div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#4be6fa">console</span>.log(todos)&nbsp;<span style="color:#999999">//&nbsp;length&nbsp;=&nbsp;0</span></div></div></td></tr></table></div>

<br />
<br />

위의 문제를 해결하기 위해서는 가져온 유사배열을 Deep Copy 해야하는데 이것 역시 위에서 보았던 `Array.from` method 를 사용하면 된다.

<div class="colorscripter-code" style="color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#272727; border-radius:4px;" cellspacing="0" cellpadding="0"><tr><td style="padding:6px; border-right:2px solid #4f4f4f"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#aaa; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:160%"><div style="line-height:160%">1</div><div style="line-height:160%">2</div><div style="line-height:160%">3</div><div style="line-height:160%">4</div><div style="line-height:160%">5</div><div style="line-height:160%">6</div><div style="line-height:160%">7</div><div style="line-height:160%">8</div><div style="line-height:160%">9</div><div style="line-height:160%">10</div><div style="line-height:160%">11</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#f0f0f0; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:160%"><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#999999">//&nbsp;todoBox&nbsp;안에&nbsp;todo-item&nbsp;class&nbsp;들이&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:160%">const&nbsp;todoBox&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementById</span>(<span style="color:#ffd500">'todo_box'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:160%">const&nbsp;todos&nbsp;<span style="color:#0086b3"></span><span style="color:#ff3399">=</span>&nbsp;<span style="color:#4be6fa">Array</span>.from(<span style="color:#4be6fa">document</span>.<span style="color:#4be6fa">getElementsByClassName</span>(<span style="color:#ffd500">'todo-item'</span>));</div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#4be6fa">console</span>.log(todos)&nbsp;<span style="color:#999999">//&nbsp;length&nbsp;=&nbsp;5</span></div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#ff3399">while</span>(todoBox.firstChild)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;&nbsp;todoBox.removeChild(todoBox.firstChild);</div><div style="padding:0 6px; white-space:pre; line-height:160%">}</div><div style="padding:0 6px; white-space:pre; line-height:160%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:160%"><span style="color:#4be6fa">console</span>.log(todos)&nbsp;<span style="color:#999999">//&nbsp;length&nbsp;=&nbsp;5&nbsp;이제&nbsp;사라지지&nbsp;않고&nbsp;배열안에&nbsp;담겨있음을&nbsp;확인할&nbsp;수&nbsp;있다.</span></div></div></td></tr></table></div>